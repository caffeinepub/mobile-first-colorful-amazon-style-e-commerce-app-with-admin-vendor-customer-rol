{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-fix-admin-role-assignment-flow-end-to-end-so-that-assigning-the-current-internet-identity-principal-as-admin-immediately-enables-access-to-admin-routes-without-requiring-a-page-crash-reload-and-without-relying-on-a-missing-invalid-caffeineadmintoken-url-parameter",
      "featureTitle": "Fix admin role assignment flow end-to-end so that assigning the current Internet Identity principal as `admin` immediately enables access to `/admin` routes without requiring a page crash/reload, and without relying on a missing/invalid `caffeineAdminToken` URL parameter.",
      "files": [
        "frontend/src/components/auth/AccessDeniedScreen.tsx",
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-4"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-update-the-frontend-route-guards-and-role-wrappers-to-use-the-new-role-names-admin-vendor-customer-and-ensure-all-places-that-previously-used-requiredrole-user-are-migrated-appropriately-to-requiredrole-customer",
      "featureTitle": "Update the frontend route guards and role wrappers to use the new role names (`admin`, `vendor`, `customer`) and ensure all places that previously used `requiredRole=\"user\"` are migrated appropriately to `requiredRole=\"customer\"`.",
      "files": [
        "frontend/src/App.tsx",
        "frontend/src/components/BottomNav.tsx",
        "frontend/src/components/TopNav.tsx",
        "frontend/src/components/auth/RequireRole.tsx",
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-5"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-requirerole-to-never-crash-when-role-or-user-data-is-missing-undefined-add-safe-checks-so-that-if-the-authenticated-user-info-actor-state-or-role-query-results-are-not-yet-available-undefined-not-fetched-the-component-renders-a-loading-state-skeleton-instead-of-throwing-or-rendering-an-error",
      "featureTitle": "Fix `RequireRole` to never crash when role or user data is missing/undefined: add safe checks so that if the authenticated user info, actor state, or role query results are not yet available (undefined/not fetched), the component renders a loading state (skeleton) instead of throwing or rendering an error.",
      "files": [
        "frontend/src/components/auth/RequireRole.tsx",
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-6"
      ],
      "confidence": "high"
    }
  ]
}